== API Reference

Here you can find a complete reference of the functions provided by the NileRuntimeEnvironment.

[.contract-index]
.Functions
--
* xref:#compile[`++compile++`]
* xref:#deploy[`++deploy++`]
* xref:#call[`++call++`]
* xref:#get_deployment[`++get_deployment++`]
* xref:#get_declaration[`++get_declaration++`]
* xref:#get_or_deploy_account[`++get_or_deploy_account++`]
* xref:#get_accounts[`++get_accounts++`]
* xref:#get_nonce[`++get_nonce++`]
* xref:#get_balance[`++get_balance++`]

--

[.contract-item]
[[compile]]
==== `[.contract-item-name]#++compile++#++(contracts, cairo_path=None) → None++`

Compile a list of contracts.

===== Arguments

- _contracts_
+
List of contracts to compile.
- _cairo_path_
+
Specify a set of directories for the Cairo compiler to resolve imports.

[.contract-item]
[[deploy]]
==== `[.contract-item-name]#++deploy++#++(contract, arguments=None, alias=None, overriding_path=None, abi=None, mainnet_token=None, watch_mode=None) → (address, abi)++`

Deploy a smart contract.

WARNING: Deprecated in favor of deployments through accounts.

===== Arguments

- _contract_
+
Contract to deploy.
- _arguments_
+
List of arguments for the constructor (calldata).
- _alias_
+
Alias for deployment registration.
- _overriding_path_
+
Override for the path to artifacts and abis.
- _abi_
+
Use a different abi for registration (useful for proxies).
- _mainnet_token_
+
Token for mainnet deployments.
- _watch_mode_
+
Either `track` or `debug` (check `status` command).

===== Return values

- _address_
+
Address of the new contract.
- _abi_
+
Abi registered in deployments.

[.contract-item]
[[call]]
==== `[.contract-item-name]#++call++#++(address_or_alias, method, params=None, abi=None) → output++`

Call a view function in a smart contract.

===== Arguments

- _address_or_alias_
+
Identifier for the contract to call (alias needs to be registered in deployments).
- _method_
+
Method to call.
- _params_
+
Arguments for the call.
- _abi_
+
Override for the abi if necessary.

===== Return values

- _output_
+
Output from the underlaying starknet cli call.

[.contract-item]
[[get_deployment]]
==== `[.contract-item-name]#++get_deployment++#++(address_or_alias) → (address, abi)++`

Get a deployment by its identifier.

===== Arguments

- _address_or_alias_
+
Contract identifier.

===== Return values

- _address_
+
Registered contract address.

- _abi_
+
Registered contract abi.

[.contract-item]
[[get_declaration]]
==== `[.contract-item-name]#++get_declaration++#++(hash_or_alias) → class_hash++`

Get a declared class by its identifier.

===== Arguments

- _hash_or_alias_
+
Contract identifier.

===== Return values

- _class_hash_
+
Declared contract class hash.

[.contract-item]
[[get_or_deploy_account]]
==== `[.contract-item-name]#++get_or_deploy_account++#++(signer, watch_mode=None) → account++`

Get or deploy an Account contract.

===== Arguments

- _signer_
+
Alias representing the private key associated.
- _watch_mode_
+
Either None, track or debug. Block the execution to query the status of the deployment transaction if needed.

===== Return values

- _account_
+
Account matching the signer.

[.contract-item]
[[get_accounts]]
==== `[.contract-item-name]#++get_accounts++#++(predeployed=False) → accounts++`

Retrieve and manage deployed accounts.

===== Arguments

- _predeployed_
+
Get predeployed accounts from a starknet-devnet node.

===== Return values

- _accounts_
+
Registered accounts.

[.contract-item]
[[get_nonce]]
==== `[.contract-item-name]#++get_nonce++#++(contract_address) → current_nonce++`

Retrieve the nonce for a contract.

===== Arguments

- _contract_address_
+
Address of the contract to query.

===== Return values

- _current_nonce_
+
Nonce of the contract.

[.contract-item]
[[get_balance]]
==== `[.contract-item-name]#++get_balance++#++(contract_address) → balance++`

Get the Ether balance of an address.

===== Arguments

- _contract_address_
+
Address of the contract to query.

===== Return values

- _balance_
+
Balance of the contract.
